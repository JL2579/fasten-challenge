<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fasten-Challenge Countdown</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/fireworks-js@2.10.7/dist/index.umd.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #111827; /* Fallback-Farbe */
            /* --- NEUER HINTERGRUND --- */
            background-image: url('https://chatgpt.com/backend-api/public_content/enc/eyJpZCI6Im1fNjg4YTRmZDY2YmJjODE5MTk4MzNjZjc2NzA5NTc0ZjQ6ZmlsZV8wMDAwMDAwMDIxYjQ2MjQ2YmIzNzVlNGVhYTUyNzJmMyIsInRzIjoiNDg3MTkzIiwicCI6InB5aSIsInNpZyI6IjM3OGMwNDQ0YTM2Y2MyYzgwMjQxM2E5ODU0MWJmMDVlN2UwNDM4Y2VlMzU0ODJmNDU2NDljYTk2OWIyNWNmZmUiLCJ2IjoiMCIsImdpem1vX2lkIjpudWxsfQ==');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: white;
            text-align: center;
            overflow: hidden; /* Verhindert Scrollbalken */
        }
        .overlay {
            background-color: rgba(17, 24, 39, 0.5); /* Leichte Anpassung für Lesbarkeit */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        .content {
            position: relative;
            z-index: 2;
            padding: 2rem;
        }
        #countdown {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem; /* 48px */
            letter-spacing: 0.1em;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5), 0 0 20px rgba(255, 255, 255, 0.3);
        }
        @media (min-width: 768px) {
            #countdown {
                font-size: 6rem; /* 96px */
            }
        }
        #milestone {
            min-height: 60px;
            transition: opacity 0.5s ease-in-out;
        }
        .fireworks-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3;
            pointer-events: none;
        }
        .button-container {
            position: relative;
            z-index: 4; /* Stellt sicher, dass Buttons über dem Feuerwerk klickbar sind */
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
    </style>
</head>
<body>
    <div class="overlay"></div>
    <canvas class="fireworks-canvas"></canvas>

    <div class="content">
        <p class="text-lg md:text-xl text-gray-300 mb-8 mt-8">Verbleibende Zeit bis zum Ziel:</p>

        <div id="countdown" class="mb-8">
            <span id="hours">00</span>:<span id="minutes">00</span>:<span id="seconds">00</span>
        </div>

        <div id="milestone" class="p-4 bg-black bg-opacity-30 rounded-lg shadow-lg mb-8 max-w-md mx-auto">
            <p id="milestone-text" class="text-lg md:text-xl italic text-teal-300"></p>
        </div>

        <div class="button-container">
            <button id="resetButton" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 w-64">
                Ich bin schwach geworden
            </button>
            <!-- Test Buttons -->
       
        </div>
    </div>

    <script>
        // --- KONFIGURATION ---
        const challengeDurationHours = 120; // 5 Tage * 24 Stunden
        const initialStartDate = new Date('2025-07-28T22:00:00');

        const milestones = {
            1: "Stunde 1: Der Startschuss ist gefallen. Auf eine erfolgreiche Reise!",
            2: "Stunde 2: Dein Körper merkt langsam, dass heute alles anders ist. Bleib stark!",
            3: "Stunde 3: Das erste Magenknurren? Ignoriere es. Du bist der Boss!",
            4: "Stunde 4: Du hast mehr Disziplin als die meisten Menschen am Montagmorgen.",
            5: "Stunde 5: Denk dran: Jede Stunde ist ein kleiner Sieg für sich.",
            6: "Stunde 6: Ein Viertel des ersten Tages ist geschafft. Das läuft!",
            7: "Stunde 7: Dein Körper fängt an, seine Zuckerreserven aufzubrauchen. Der erste Schritt ist getan.",
            8: "Stunde 8: Zeit für einen tiefen Schlaf. Im Schlaf fastet es sich am leichtesten.",
            9: "Stunde 9: Du wachst auf und hast schon 9 Stunden auf dem Tacho. Guter Start!",
            10: "Stunde 10: Zweistellig! Das ist ein psychologischer Meilenstein.",
            11: "Stunde 11: Nur noch eine Stunde bis zum ersten großen Erfolgserlebnis.",
            12: "12 Stunden geschafft! Dein Körper schaltet auf Autopilot. Du bist stärker als dein Magenknurren!",
            13: "Stunde 13: Die Glykogenspeicher leeren sich. Bald beginnt die Magie!",
            14: "Stunde 14: Trink ein Glas Wasser und feiere diesen Moment.",
            15: "Stunde 15: Dein Fokus beginnt sich zu schärfen.",
            16: "Stunde 16: Die Fettverbrennung wird langsam angekurbelt. Go, go, go!",
            17: "Stunde 17: Du zeigst deinem Körper, wer das Sagen hat.",
            18: "Stunde 18: Die Ketose ist nicht mehr weit. Halte durch!",
            19: "Stunde 19: Dein Körper beginnt, Ketonkörper zu produzieren. Das ist der Treibstoff der Champions.",
            20: "Stunde 20: Du fühlst dich vielleicht etwas müde. Das ist normal, der Umschwung kommt.",
            21: "Stunde 21: Denk an das Gefühl der Klarheit, das bald einsetzen wird.",
            22: "Stunde 22: Du bist eine Maschine!",
            23: "Stunde 23: Der erste volle Tag ist fast geschafft. Unglaublich!",
            24: "24 Stunden-Marke geknackt! Willkommen in der Ketose-Zone. Dein Körper wird zur Fettverbrennungs-Maschine.",
            25: "Stunde 25: Tag 2 beginnt. Du hast bereits mehr erreicht als die meisten.",
            26: "Stunde 26: Dein Körper läuft jetzt auf alternativem Treibstoff. Effizient und sauber!",
            27: "Stunde 27: Hunger? Welcher Hunger? Du bist im Flow.",
            28: "Stunde 28: Die Autophagie, die zelluläre Müllabfuhr, beginnt langsam ihre Arbeit.",
            29: "Stunde 29: Jede Zelle deines Körpers dankt es dir.",
            30: "Stunde 30: Ein Viertel der Gesamtzeit ist um. Das ist riesig!",
            31: "Stunde 31: Du fühlst dich leichter und klarer.",
            32: "Stunde 32: Du könntest Bäume ausreißen (aber heb dir die Energie auf).",
            33: "Stunde 33: Schnapszahl! Ein Grund zum Anstoßen... mit Wasser.",
            34: "Stunde 34: Du bist ein Vorbild an Disziplin.",
            35: "Stunde 35: Der zweite Tag ist fast zur Hälfte rum.",
            36: "36 Stunden! Dein Geist wird klarer als das Wasser, das du trinkst. Denk an die Pizza, die du dir verdient hast... später!",
            37: "Stunde 37: Du hast den ersten großen Hunger-Peak überstanden. Ab jetzt wird es einfacher.",
            38: "Stunde 38: Dein Körper ist im vollen Reparaturmodus.",
            39: "Stunde 39: Du sparst nicht nur Kalorien, sondern auch Zeit fürs Kochen!",
            40: "Stunde 40: Eine beeindruckende Zahl. Du bist auf dem Weg zur Legende.",
            41: "Stunde 41: Dein Energielevel stabilisiert sich.",
            42: "Stunde 42: Die Antwort auf alles? Nicht ganz, aber nah dran.",
            43: "Stunde 43: Du schreibst deine eigene Erfolgsgeschichte.",
            44: "Stunde 44: Doppelt hält besser! Du bist unaufhaltsam.",
            45: "Stunde 45: Drei Viertel des zweiten Tages. Wahnsinn!",
            46: "Stunde 46: Dein Körper ist dir dankbar für diese Tiefenreinigung.",
            47: "Stunde 47: Nur noch eine Stunde bis zur 2-Tages-Marke!",
            48: "Zwei Tage im Kasten! Du könntest jetzt einen Bären mit reiner Willenskraft umwerfen. (Bitte nicht versuchen).",
            49: "Stunde 49: Tag 3. Die Königsdisziplin hat begonnen.",
            50: "Stunde 50: Ein halbes Hundert! Das ist eine Feier (mit Elektrolyten) wert.",
            51: "Stunde 51: Die Autophagie erreicht ihren Höhepunkt. Zell-Frühjahrsputz!",
            52: "Stunde 52: Du fühlst dich wie neugeboren.",
            53: "Stunde 53: Dein Körper produziert vermehrt Wachstumshormone. Anti-Aging pur.",
            54: "Stunde 54: Du bist fast bei der Hälfte. Der Gipfel ist nah.",
            55: "Stunde 55: Fünf mal die Fünf. Ein gutes Omen!",
            56: "Stunde 56: Du bist mental stärker als je zuvor.",
            57: "Stunde 57: Halte den Fokus. Du schaffst das.",
            58: "Stunde 58: Die letzten Meter bis zur Halbzeit.",
            59: "Stunde 59: Gleich hast du es geschafft, die erste Hälfte ist bezwungen!",
            60: "HALBZEIT! Du bist offiziell ein halber Superheld. Deine Superkraft: Dem Kühlschrank widerstehen.",
            61: "Stunde 61: Die zweite Hälfte beginnt. Ab jetzt geht's bergab!",
            62: "Stunde 62: Du hast mehr als die Hälfte geschafft. Der Rest ist ein Klacks.",
            63: "Stunde 63: Dein Körper ist eine perfekt geölte Maschine.",
            64: "Stunde 64: Du hast die volle Kontrolle.",
            65: "Stunde 65: Denk an dein Ziel und warum du das machst.",
            66: "Stunde 66: Route 66 zur totalen Selbstbeherrschung.",
            67: "Stunde 67: Du bist auf der Zielgeraden.",
            68: "Stunde 68: Jeder Moment macht dich stärker.",
            69: "Stunde 69: Nice.",
            70: "Stunde 70: Du bist im tiefsten Zustand der Autophagie. Ein wahrer Reset.",
            71: "Stunde 71: Nur noch eine Stunde bis zur magischen 72.",
            72: "72 Stunden! Die Autophagie-Party ist in vollem Gange. Deine Zellen recyceln sich selbst. Du bist quasi brandneu!",
            73: "Stunde 73: Tag 4. Der Endspurt beginnt jetzt!",
            74: "Stunde 74: Du hast den schwierigsten Teil hinter dir.",
            75: "Stunde 75: Drei Viertel der Challenge sind geschafft. Das ist eine Meisterleistung!",
            76: "Stunde 76: Dein Körper und Geist sind im Einklang.",
            77: "Stunde 77: Die Glückszahl! Das Glück ist mit den Tüchtigen.",
            78: "Stunde 78: Du strahlst von innen heraus.",
            79: "Stunde 79: Du bist ein wandelndes Beispiel für Willenskraft.",
            80: "Stunde 80: Nur noch 40 Stunden. Das ist überschaubar!",
            81: "Stunde 81: Du bist im Zen-Modus.",
            82: "Stunde 82: Halte durch, das Ziel ist zum Greifen nah.",
            83: "Stunde 83: Du inspirierst andere mit deiner Entschlossenheit.",
            84: "84 Stunden. Du strahlst mehr Energie aus als ein kleines Kraftwerk. Pass auf, dass du nicht abhebst!",
            85: "Stunde 85: Der letzte volle Tag bricht an.",
            86: "Stunde 86: Du bist fast unbesiegbar.",
            87: "Stunde 87: Jeder Atemzug fühlt sich reiner an.",
            88: "Stunde 88: Acht mal die Acht. Unendliche Stärke.",
            89: "Stunde 89: Du bist kurz davor, Geschichte zu schreiben.",
            90: "Stunde 90: Nur noch 30 Stunden. Der Countdown läuft!",
            91: "Stunde 91: Du bist eine Legende im Werden.",
            92: "Stunde 92: Dein Körper hat sich komplett regeneriert.",
            93: "Stunde 93: Du siehst das Licht am Ende des Tunnels.",
            94: "Stunde 94: Der Stolz, den du fühlen wirst, ist unbezahlbar.",
            95: "Stunde 95: Nur noch eine Stunde bis zum nächsten großen Meilenstein.",
            96: "Fast am Ziel! Nur noch 24 Stunden. Der Endspurt! Du riechst das Ziel... und es riecht nicht nach Essen!",
            97: "Stunde 97: Tag 5. Der letzte Tag! Du hast es fast geschafft!",
            98: "Stunde 98: Die letzten 24 Stunden laufen. Jeder Moment zählt.",
            99: "Stunde 99: Dreistellig! Aber rückwärts. Nur noch 21 Stunden.",
            100: "Stunde 100: Die Hunderter-Marke ist geknackt! Was für eine Leistung!",
            101: "Stunde 101: Du bist ein Meister der Selbstbeherrschung.",
            102: "Stunde 102: Plane schon mal deine erste, gesunde Mahlzeit. Du hast sie dir verdient.",
            103: "Stunde 103: Du bist die Ruhe selbst.",
            104: "Stunde 104: Dein Körper ist dir ewig dankbar.",
            105: "Stunde 105: Nur noch 15 Stunden. Das ist weniger als ein Tag!",
            106: "Stunde 106: Du schwebst förmlich.",
            107: "Stunde 107: Der letzte Abend. Genieße die Klarheit.",
            108: "108 Stunden! Der Mount Everest des Fastens ist fast bezwungen. Der Gipfel ist in Sicht!",
            109: "Stunde 109: Die letzten 11 Stunden. Du kannst sie an zwei Händen abzählen... fast.",
            110: "Stunde 110: Nur noch 10 Stunden! Der finale Countdown!",
            111: "Stunde 111: Eine magische Zahl für die letzten Meter.",
            112: "Stunde 112: Du bist ein Phönix, der aus der Asche steigt.",
            113: "Stunde 113: Dein Durchhaltevermögen ist unglaublich.",
            114: "Stunde 114: Nur noch 6 Stunden. Das ist ein Wimpernschlag.",
            115: "Stunde 115: FÜNF. STUNDEN. NOCH.",
            116: "Stunde 116: VIER. STUNDEN. ZUM. RUHM.",
            117: "Stunde 117: DREI. STUNDEN. BIS. ZUM. SIEG.",
            118: "Stunde 118: ZWEI. STUNDEN. Die Spannung steigt!",
            119: "Stunde 119: DIE LETZTE STUNDE! Du bist eine absolute Maschine!",
            120: "GESCHAFFT! 120 Stunden pure Willenskraft! Du bist eine Legende! Zeit zu feiern!"
        };


        // --- DOM-ELEMENTE ---
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');
        const milestoneTextEl = document.getElementById('milestone-text');
        const resetButton = document.getElementById('resetButton');
        const fireworksCanvas = document.querySelector('.fireworks-canvas');
        //const testFireworksButton = document.getElementById('testFireworksButton');
        //const stopFireworksButton = document.getElementById('stopFireworksButton');


        // --- VARIABLEN ---
        let countdownInterval;
        let endDate;
        let fireworks;

        // --- FUNKTIONEN ---
        function startCountdown(startDate) {
            if (countdownInterval) clearInterval(countdownInterval);
            if (fireworks) fireworks.stop();
            
            endDate = new Date(startDate.getTime() + challengeDurationHours * 60 * 60 * 1000);

            countdownInterval = setInterval(() => updateCountdown(startDate), 1000);
            updateCountdown(startDate);
        }

        function updateCountdown(startDate) {
            const now = new Date();
            const timeLeft = endDate.getTime() - now.getTime();

            if (timeLeft <= 0) {
                clearInterval(countdownInterval);
                hoursEl.textContent = '00';
                minutesEl.textContent = '00';
                secondsEl.textContent = '00';
                milestoneTextEl.textContent = milestones[120];
                launchFireworks();
                return;
            }

            const hours = Math.floor(timeLeft / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            hoursEl.textContent = String(hours).padStart(2, '0');
            minutesEl.textContent = String(minutes).padStart(2, '0');
            secondsEl.textContent = String(seconds).padStart(2, '0');

            checkMilestones(startDate);
        }

        function checkMilestones(startDate) {
            const now = new Date();
            const hoursPassed = (now.getTime() - startDate.getTime()) / (1000 * 60 * 60);
            
            let latestMilestone = "";
            for (const hour in milestones) {
                if (hoursPassed >= hour) {
                     latestMilestone = milestones[hour];
                }
            }

            if (milestoneTextEl.textContent !== latestMilestone) {
                 milestoneTextEl.parentElement.style.opacity = 0;
                 setTimeout(() => {
                    milestoneTextEl.textContent = latestMilestone;
                    milestoneTextEl.parentElement.style.opacity = 1;
                 }, 500);
            }
        }

        function launchFireworks() {
            // FIX: The library exposes the constructor on the `Fireworks` property of the global object.
            if (!fireworks && window.Fireworks) {
                fireworks = new window.Fireworks.Fireworks(fireworksCanvas, {
                    autoresize: true,
                    opacity: 0.5,
                    acceleration: 1.02,
                    friction: 0.97,
                    gravity: 1.5,
                    particles: 175,
                    traceSpeed: 3,
                    explosion: 5,
                    intensity: 70,
                    flickering: 50,
                    lineStyle: 'round',
                    hue: { min: 0, max: 360 },
                    delay: { min: 30, max: 60 },
                    rocketsPoint: { min: 50, max: 50 },
                    lineWidth: { explosion: { min: 1, max: 3 }, trace: { min: 1, max: 2 } },
                    brightness: { min: 50, max: 80 },
                    decay: { min: 0.015, max: 0.03 },
                    mouse: { click: false, move: false, max: 1 }
                });
            }
            if(fireworks) {
                fireworks.start();
            }
        }

        function stopFireworks() {
            if (fireworks) {
                fireworks.stop();
            }
        }

        // --- EVENT LISTENER ---
        resetButton.addEventListener('click', () => {
            const newStartDate = new Date();
            startCountdown(newStartDate);
            // Anstelle von alert() könnte man eine schönere Modal-Box bauen.
            // Für die Einfachheit belassen wir es bei alert().
            alert("Der Countdown wurde zurückgesetzt. Die 120 Stunden beginnen jetzt von Neuem. Auf ein Neues!");
        });

        //testFireworksButton.addEventListener('click', launchFireworks);
        //stopFireworksButton.addEventListener('click', stopFireworks);


        // --- INITIALISIERUNG ---
        startCountdown(initialStartDate);

    </script>
</body>
</html>
